<div class="container">
  <h1>Listing Documents - flat <%= Flat.find(params[:flat_id]).flat_name %></h1>

  <table class="table table-responsive table-striped table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Doc Name</th>
        <th>Type</th>
        <th>Expiration date</th>
        <th>Reminder sent</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @documents.each do |document| %>

          <tr>

              <td><%= document.id %></td>

            <!--   <td><i class="fa fa-file-pdf-o"></i></td> -->

            <!-- Button trigger modal -->
             <td type="button" data-toggle="modal" data-target="#myModal">
              <%= cl_image_tag(document.attachment, :format => :jpg, :width=>100, :height=>140, :border=>"1px_solid_black", :crop=>"fill"  ) %>
            </td>

             <!-- Modal -->
             <%= render 'modal', document: document %>



              <td><%= document.name %></td>
              <td><%= document.doc_type %></td>
              <td><%= document.expiration_date %></td>
              <td><%= document.reminder_sent_date %></td>
              <td><%= link_to(flat_document_path(@flat, document)) do %>
                  <%= content_tag('span', nil,  class: 'glyphicon glyphicon-search') %>
               <% end %></td>
              <% document.days_to_reminder %>
            </tr>

      <% end %>

      <tr>
        <td></td>
        <td><%= link_to(new_flat_document_path) do %>
              <%= content_tag('span', nil,  class: 'glyphicon glyphicon-floppy-open') %>
           <% end %></td>
      </tr>
    </tbody>
  </table>

  <br>

</div>

